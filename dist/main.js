var qTranx;(()=>{"use strict";var e={d:(t,n)=>{for(var a in n)e.o(n,a)&&!e.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:n[a]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};e.r(t),e.d(t,{hooks:()=>n,isPageActive:()=>i,mlExplode:()=>o,mlParseTokens:()=>l,mlSplitRaw:()=>s});var n={};e.r(n),e.d(n,{addContentHook:()=>A,addContentHookB:()=>N,addContentHookById:()=>B,addContentHookByIdB:()=>M,addContentHookByIdC:()=>S,addContentHookByIdName:()=>I,addContentHookC:()=>E,addContentHooks:()=>H,addContentHooksByClass:()=>R,addContentHooksByTagInClass:()=>j,addContentHooksTinyMCE:()=>ee,addCustomContentHooks:()=>J,addDisplayHook:()=>D,addDisplayHookAttrs:()=>Y,addDisplayHookById:()=>W,addDisplayHooks:()=>$,addDisplayHooksAttrs:()=>K,addDisplayHooksByClass:()=>z,addDisplayHooksByTagInClass:()=>G,addLanguageSwitchAfterListener:()=>re,addLanguageSwitchBeforeListener:()=>ae,addLanguageSwitchListener:()=>ne,attachContentHook:()=>T,attachEditorHook:()=>Z,clickSwitchLanguage:()=>ge,copyContentFrom:()=>fe,createSetOfLSB:()=>he,createSetOfLSBwith:()=>ve,delLanguageSwitchAfterListener:()=>oe,delLanguageSwitchBeforeListener:()=>ie,enableLanguageSwitchingButtons:()=>se,getActiveLanguage:()=>C,getFlagLocation:()=>_,getLanguages:()=>q,hasContentHook:()=>k,init:()=>pe,isLanguageEnabled:()=>L,loadAdditionalTinyMceHooks:()=>te,onLoadLanguage:()=>de,refreshContentHook:()=>F,removeContentHook:()=>O,setupLanguageSwitch:()=>me,switchActiveLanguage:()=>ce,toggleCopyFrom:()=>ue});var a=window.qTranslateConfig,i=function(e){return(null!==(t=null===(n=a.page_config)||void 0===n?void 0:n.keys)&&void 0!==t?t:[]).indexOf(e)>=0;var t,n},r=window.qTranslateConfig,o=function(e){var t=s(e);return l(t)},s=function(e){var t="(\x3c!--:lang--\x3e|\x3c!--:--\x3e|\\[:lang]|\\[:]|{:lang}|{:})".replace(/lang/g,r.lang_code_format),n=new RegExp(t,"gi");return e.split(n)},l=function(e){var t=new Object;for(var n in r.language_config)t[n]="";if(!e||!e.length)return t;if(1===e.length){var a=e[0];for(var i in r.language_config)t[i]+=a;return t}for(var o,s=new RegExp("\x3c!--:(lang)--\x3e".replace(/lang/g,r.lang_code_format),"gi"),l=new RegExp("\\[:(lang)]".replace(/lang/g,r.lang_code_format),"gi"),d=new RegExp("{:(lang)}".replace(/lang/g,r.lang_code_format),"gi"),c=!1,g=0;g<e.length;++g){var u=e[g];if(u.length)if(o=s.exec(u),s.lastIndex=0,null==o)if(o=l.exec(u),l.lastIndex=0,null==o)if(o=d.exec(u),d.lastIndex=0,null==o)if("\x3c!--:--\x3e"!==u&&"[:]"!==u&&"{:}"!==u)if(c)t[c]?t[c]+=u:t[c]=u,c=!1;else for(var f in t)t[f]+=u;else c=!1;else c=o[1];else c=o[1];else c=o[1]}return t},d=function(e,t,n,a){var i=document.createElement(e);if(t)for(var r in t)i[r]=t[r];return n&&("boolean"==typeof a&&a&&(console.warn("qTranslate: deprecated boolean type in domCreateElement, will be removed in future major release."),a=n.firstChild),n.insertBefore(i,a)),i},c="qtranslate-xt-admin-edit-language",g=function(e){try{sessionStorage.setItem(c,e)}catch(e){console.log('Failed to store "'+c+'" with sessionStorage',e)}},u=jQuery,f=window.qTranslateConfig,v={},h=[],m=[],p=!1,w={},y=[],x=[],b=[],q=function(){return f.language_config},_=function(){return f.flag_location},L=function(e){return!!f.language_config[e]},C=function(){return f.activeLanguage},k=function(e){return v[e]},T=function(e,t){var n=v[t||e.id];n&&(e.classList.add("qtranxs-translatable"),n.contentField=e)},A=function(e,t,n){if(!e)return!1;switch(e.tagName){case"TEXTAREA":break;case"INPUT":switch(e.type){case"button":case"checkbox":case"password":case"radio":case"submit":return!1}break;default:return!1}if(!n){if(!e.name)return console.error("Missing name in field",e),!1;n=e.name}if(e.id){if(v[e.id]){if(u.contains(document,e))return v[e.id];console.warn("No input field with id=",e.id),O(e)}}else if(v[n]){var a=0;do{++a,e.id=n+a}while(v[e.id])}else e.id=n;var i,r,s,l=v[e.id]={};if(l.name=n,l.lang=f.activeLanguage,T(e),t)switch(t){case"slug":i="qtranslate-slugs[";break;case"term":i="qtranslate-terms[";break;default:i="qtranslate-fields["}else t="[",i="qtranslate-fields[";l.encode=t;var c=l.name.indexOf("[");if(c<0)r=i+l.name+"]";else if(r=i+l.name.substring(0,c)+"]",l.name.lastIndexOf("[]")<0)r+=l.name.substring(c);else{var g=l.name.length-2;g>c&&(r+=l.name.substring(c,g)),s="[]"}var h=u(e).attr("form"),m=void 0!==h?u("#"+h):u(e).closest("form");if(m.length){var p,w=m[0];if(l.fields={},!f.RAW){for(var y in p=o(e.value),e.value=p[l.lang],p){var x=p[y],b=r+"["+y+"]";s&&(b+=s);var q=d("input",{name:b,type:"hidden",className:"hidden",value:x},e.parentNode,e);void 0!==h&&u(q).attr("form",h),l.fields[y]=q}m.find('input[name="qtranslate-edit-language"]').length||d("input",{type:"hidden",name:"qtranslate-edit-language",value:f.activeLanguage},w,w.firstChild)}switch(t){case"slug":case"term":f.RAW&&(p=o(e.value)),l.sepfield=d("input",{name:r+"[qtranslate-original-value]",type:"hidden",className:"hidden",value:p[f.default_language]},e.parentNode,e);break;default:f.RAW||(l.sepfield=d("input",{name:r+"[qtranslate-separator]",type:"hidden",className:"hidden",value:t},e.parentNode,e))}return l.sepfield&&void 0!==h&&u(l.sepfield).attr("form",h),l}console.error("No form found for translatable field id=",e.id)},E=function(e){return A(e,"[")},N=function(e){return A(e,"[")},B=function(e,t,n){return A(document.getElementById(e),t,n)},I=function(e){var t;switch(e[0]){case"<":case"[":t=e.substring(0,1),e=e.substring(1)}return B(e,t)},S=function(e){return B(e,"[")},M=function(e){return B(e,"[")},H=function(e,t,n){for(var a=0;a<e.length;++a){var i=e[a];A(i,t,n)}},R=function(e,t){var n;0!==e.indexOf("<")&&0!==e.indexOf("[")||(n=e.substring(0,1),e=e.substring(1)),function(e,t,n){t||(t=document);var a=t.getElementsByClassName(e);H(a,n)}(e,t,n)},j=function(e,t,n){for(var a=n.getElementsByClassName(e),i=0;i<a.length;++i){var r=a[i].getElementsByTagName(t);H(r)}},O=function(e){if(!e||!e.id)return!1;var t=v[e.id];if(!t)return!1;for(var n in t.sepfield&&u(t.sepfield).remove(),t.fields){var a=t.fields[n];u(a).remove()}if(t.mce){var i=t.mce;i.getContentAreaContainer().classList.remove("qtranxs-translatable"),i.getElement().classList.remove("qtranxs-translatable")}return t.contentField.classList.remove("qtranxs-translatable"),delete v[e.id],e.classList.remove("qtranxs-translatable"),!0},F=function(e){return O(e),A(e)},P=function(e){if(e[f.language])return"("+f.language+") "+e[f.language];if(e[f.default_language])return"("+f.default_language+") "+e[f.default_language];for(var t in e)if(e[t])return"("+t+") "+e[t];return""},X=function(e){var t=null;for(var n in e)e[n]||(t||(t=P(e)),e[n]=t)},Q=function(e){if(!e.nodeValue)return 0;var t=s(e.nodeValue);if(!t||!t.length||1===t.length)return 0;var n={};return n.nd=e,n.contents=l(t),X(n.contents),e.nodeValue=n.contents[f.activeLanguage],h.push(n),1},U=function(e,t){if(!e.hasAttribute(t))return 0;var n=e.getAttribute(t),a=s(n);if(!a||!a.length||1===a.length)return 0;var i={};return i.nd=e,i.attr=t,i.contents=l(a),X(i.contents),e.setAttribute(t,i.contents[f.activeLanguage]),m.push(i),1},D=function(e){if(!e||!e.tagName)return 0;switch(e.tagName){case"TEXTAREA":return 0;case"INPUT":return"submit"===e.type&&e.value?U(e,"value"):0}var t=0;if(e.childNodes&&e.childNodes.length)for(var n=0;n<e.childNodes.length;++n){var a=e.childNodes[n];switch(a.nodeType){case 1:t+=D(a);break;case 2:case 3:t+=Q(a)}}return t},W=function(e){return D(document.getElementById(e))},V=function(e){var t=e.contentField.value;e.mce.settings.wpautop&&window.switchEditors&&(t=window.switchEditors.wpautop(t)),e.mce.setContent(t)},$=function(e){for(var t=0;t<e.length;++t){var n=e[t];D(n)}},Y=function(e,t){for(var n=0;n<t.length;++n){var a=t[n];U(e,a)}},K=function(e,t){for(var n=0;n<e.length;++n){var a=e[n];Y(a,t)}},z=function(e,t){var n=t.getElementsByClassName(e);$(n)},G=function(e,t,n){for(var a=n.getElementsByClassName(e),i=0;i<a.length;++i){var r=a[i].getElementsByTagName(t);$(r)}},J=function(){for(var e=0;e<f.custom_fields.length;++e){var t=f.custom_fields[e];I(t)}for(var n=0;n<f.custom_field_classes.length;++n){var a=f.custom_field_classes[n];R(a)}ee()},Z=function(e,t){if(!e.id)return null;t||(t=e.id);var n=v[t];return n?(t!==e.id&&(n.contentField=document.getElementById(e.id)),n.mce||(n.mce=e,e.getContentAreaContainer().classList.add("qtranxs-translatable"),e.getElement().classList.add("qtranxs-translatable")),n):null},ee=function(){if(window.tinyMCEPreInit&&!f.RAW)for(var e in v){var t=v[e];"TEXTAREA"!==t.contentField.tagName||t.mce||t.mceInit||!tinyMCEPreInit.mceInit[e]||(t.mceInit=tinyMCEPreInit.mceInit[e],tinyMCEPreInit.mceInit[e].init_instance_callback=function(e){Z(e)})}},te=function(){window.tinyMCE&&tinyMCE.get().forEach(function(e){Z(e)})},ne=function(e){wp.deprecated("addLanguageSwitchListener",{since:"3.16.0",version:"4.0.0",plugin:"qTranslate-XT",alternative:'wp.hooks.addAction("qtranx.LanguageSwitch", ...)'}),y.push(e)},ae=function(e){wp.deprecated("addLanguageSwitchBeforeListener",{since:"3.16.0",version:"4.0.0",plugin:"qTranslate-XT",alternative:'wp.hooks.addAction("qtranx.LanguageSwitchPre", ...)'}),b.push(e)},ie=function(e){wp.deprecated("delLanguageSwitchBeforeListener",{since:"3.16.0",version:"4.0.0",plugin:"qTranslate-XT",alternative:'wp.hooks.removeAction("qtranx.LanguageSwitchPre", ...)'});for(var t=0;t<b.length;++t)if(b[t]===e)return void b.splice(t,1)},re=function(e){wp.deprecated("addLanguageSwitchAfterListener",{since:"3.16.0",version:"4.0.0",plugin:"qTranslate-XT",alternative:'wp.hooks.addAction("qtranx.LanguageSwitch", ...)'}),x.push(e)},oe=function(e){wp.deprecated("delLanguageSwitchAfterListener",{since:"3.16.0",version:"4.0.0",plugin:"qTranslate-XT",alternative:'wp.hooks.removeAction("qtranx.LanguageSwitch", ...)'});for(var t=0;t<x.length;++t)if(x[t]===e)return void x.splice(t,1)},se=function(e){var t=e?"block":"none";for(var n in w){for(var a=w[n],i=0;i<a.length;++i){a[i].parentElement.style.display=t;break}break}},le=function(){for(var e=document.getElementsByClassName("wrap"),t=0;t<e.length;++t){var n=e[t].getElementsByTagName("form");if(n.length)return n[0]}var a=document.getElementsByTagName("form");if(1===a.length)return a[0];for(var i=0;i<a.length;++i){var r=a[i];if(r.getElementsByClassName("wrap").length)return r}return null},de=function(e,t){for(var n=0;n<x.length;++n)x[n].call(qTranx.hooks,e,t)},ce=function(e){if(f.activeLanguage!==e){if(f.activeLanguage){wp.hooks.doAction("qtranx.languageSwitchPre",e,f.activeLanguage);for(var t=!0,n=0;n<b.length;++n)!1===b[n].call(qTranx.hooks,f.activeLanguage,e)&&(t=!1);if(!t)return;for(var a=w[f.activeLanguage],i=0;i<a.length;++i)a[i].classList.remove(f.lsb_style_active_class),u(a[i]).find(".button").removeClass("active")}var r=f.activeLanguage;f.activeLanguage=e,u('input[name="qtranslate-edit-language"]').val(e);for(var o=w[f.activeLanguage],d=0;d<o.length;++d)o[d].classList.add(f.lsb_style_active_class),u(o[d]).find(".button").addClass("active");!function(e){g(e);for(var t=h.length;--t>=0;){var n=h[t];n.nd.parentNode?n.nd.nodeValue=n.contents[e]:h.splice(t,1)}for(var a=m.length;--a>=0;){var i=m[a];i.nd.parentNode?i.nd.setAttribute(i.attr,i.contents[e]):m.splice(a,1)}if(!f.RAW)for(var r in v){var o=v[r],d=o.mce&&!o.mce.hidden;d&&o.mce.save();var c=o.contentField.value.trim(),p=s(c);if(!p||p.length<=1){o.fields[o.lang].value=c,o.lang=e;var w=o.fields[o.lang].value;o.contentField.placeholder&&""!==w&&(o.contentField.placeholder=""),o.contentField.value=w,u(o.contentField).trigger("change"),d&&V(o)}else{var y=l(p);for(var x in o.fields)o.fields[x].value=y[x];o.lang=e}}}(e);for(var c=0;c<y.length;++c)y[c].call(qTranx.hooks,e,r);wp.hooks.doAction("qtranx.languageSwitch",e,r),de(e,r)}},ge=function(){var e=u(this).hasClass("button")?this.parentNode:this,t=e.lang;t?u(".qtranxs-lang-switch-wrap").hasClass("copying")?(fe(t),u(e).find(".button").blur(),u(".qtranxs-lang-switch-wrap").removeClass("copying"),u(".qtranxs-lang-copy .button").removeClass("active")):ce(t):alert("qTranslate-XT: This should not have happened: Please, report this incident to the developers: !lang")},ue=function(){u(".qtranxs-lang-switch-wrap").toggleClass("copying"),u(".qtranxs-lang-copy .button").toggleClass("active"),u(".qtranxs-lang-switch-wrap").hasClass("copying")?u(".qtranxs-lang-switch").each(function(){u(this).attr("orig-title",u(this).attr("title")),u(this).attr("lang")===f.activeLanguage?u(this).attr("title",f.strings.CopyFromAlt):u(this).attr("title",f.strings.CopyFrom+" [:"+u(this).attr("lang")+"]")}):u(".qtranxs-lang-switch").each(function(){u(this).attr("title",u(this).attr("orig-title"))})},fe=function(e){var t=f.activeLanguage,n=!1;for(var a in v){var i=v[a],r=i.mce&&!i.mce.hidden,o=r?i.mce.getContent():i.contentField.value;o||(o=i.fields[e].value)&&(i.contentField.value=o,r&&V(i),n=!0)}n&&de(t,e)},ve=function(e){var t=d("ul",{className:"qtranxs-lang-switch-wrap "+e}),n=f.language_config;for(var a in n){var i=n[a],r=f.flag_location,o=f.strings.ShowIn+i.admin_name+" [:"+a+"]",s=d("li",{lang:a,className:"qtranxs-lang-switch qtranxs-lang-switch-"+a,title:o,onclick:ge},t),l=s;"button"===f.lsb_style_subitem&&(l=d("button",{className:"button button-secondary",type:"button"},s)),d("img",{src:r+i.flag},l),d("span",{innerHTML:i.name},l),f.activeLanguage===a&&(s.classList.add(f.lsb_style_active_class),u(s).find(".button").addClass("active")),w[a]||(w[a]=[]),w[a].push(s)}if(!f.hide_lsb_copy_content){var c=d("li",{className:"qtranxs-lang-copy"},t),g=d("button",{className:"button button-secondary",type:"button",title:f.strings.CopyFromAlt,onclick:ue},c);d("span",{innerHTML:f.strings.CopyFrom},g)}return t},he=function(){return ve(f.lsb_style_wrap_class+" widefat")},me=function(){!p&&f.LSB&&(h.length||m.length||Object.keys(v).length)&&(function(){var e=document.getElementById("qtranxs-meta-box-lsb");if(e){var t=e.getElementsByClassName("inside");if(t.length){e.classList.add("closed"),u(e).find(".hndle").remove();var n=document.createElement("span");e.insertBefore(n,t[0]),n.classList.add("hndle","ui-sortable-handle");var a=ve(f.lsb_style_wrap_class);n.appendChild(a),u("#qtranxs-meta-box-lsb .hndle").off("click.postboxes")}}}(),function(){var e=[];if(f.page_config&&f.page_config.anchors)for(var t in f.page_config.anchors){var n=f.page_config.anchors[t],a=document.getElementById(t);if(a)e.push({target:a,where:n.where});else if(n.jquery)for(var i=u(n.jquery),r=0;r<i.length;++r){var o=i[r];e.push({target:o,where:n.where})}}if(!e.length){var s=le();s&&e.push({target:s,where:"before"})}for(var l=0;l<e.length;++l){var d=e[l];if(!d.where||d.where.indexOf("before")>=0){var c=he();d.target.parentNode.insertBefore(c,d.target)}if(d.where&&d.where.indexOf("after")>=0){var g=he();d.target.parentNode.insertBefore(g,d.target.nextSibling)}if(d.where&&d.where.indexOf("first")>=0){var v=he();d.target.insertBefore(v,d.target.firstChild)}if(d.where&&d.where.indexOf("last")>=0){var h=he();d.target.insertBefore(h,null)}}}(),p=!0)},pe=function(){f.LSB?(f.activeLanguage=sessionStorage.getItem(c),f.activeLanguage&&L(f.activeLanguage)||(f.activeLanguage=f.language,L(f.activeLanguage)?g(f.activeLanguage):f.LSB=!1)):(f.activeLanguage=f.language,g(f.activeLanguage)),f.page_config&&f.page_config.forms&&function(e){for(var t in e){var n=e[t],a=void 0;if(n.form){if(n.form.id)a=document.getElementById(n.form.id);else if(n.form.jquery)a=u(n.form.jquery);else if(n.form.name){var i=document.getElementsByName(n.form.name);i&&i.length&&(a=i[0])}}else a=document.getElementById(t);for(var r in a||(a=le())||(a=document),n.fields){var o=n.fields[r],s=[];if(o.container_id){var l=document.getElementById(o.container_id);l&&s.push(l)}else o.container_jquery?s=u(o.container_jquery):o.container_class?s=document.getElementsByClassName(o.container_class):s.push(a);var d=o.encode;switch(d){case"none":break;case"display":if(o.jquery)for(var c=0;c<s.length;++c){var g=s[c],f=u(g).find(o.jquery);o.attrs?K(f,o.attrs):$(f)}else{var v=o.id?o.id:r,h=document.getElementById(v);o.attrs?Y(h,o.attrs):D(h)}break;default:if(o.jquery)for(var m=0;m<s.length;++m){var p=s[m],w=u(p).find(o.jquery);H(w,d,o.name)}else{var y=o.id?o.id:r;B(y,d,o.name)}}}}}(f.page_config.forms),u(".i18n-multilingual").each(function(e,t){A(t,"[")}),u(".i18n-multilingual-curly").each(function(e,t){A(t,"{")}),u(".i18n-multilingual-term").each(function(e,t){A(t,"term")}),u(".i18n-multilingual-slug").each(function(e,t){A(t,"slug")}),u(".i18n-multilingual-display").each(function(e,t){D(t)}),ee(),me()},we=jQuery,ye=window.qTranslateConfig;we(window).on("load",function(){var e,t;pe(),te(),wp.hooks.doAction("qtranx.load"),(null!==(e=null===(t=ye.page_config)||void 0===t?void 0:t.keys)&&void 0!==e?e:[]).forEach(function(e){we(document).trigger("qtxLoadAdmin:"+e,[qTranx.hooks,"Deprecated event 'qtxLoadAdmin', use wp.hooks.addAction('qtranx.load', namespace, callback) instead."])})});var xe=jQuery,be=jQuery,qe=Object.freeze({QTX_URL_QUERY:1,QTX_URL_PATH:2,QTX_URL_DOMAIN:3,QTX_URL_DOMAINS:4}),_e=jQuery;i("edit-tags")&&wp.hooks.addAction("qtranx.load","qtranx/pages/edit-tags",function(){var e=function(e,t){D(t)},t=function(t){var n=xe(t);n.find(".row-title, .description").each(e),n.find("td.name span.inline").css("display","none")},n=xe("#the-list"),a=xe("#the-list > tr").length,i=function(){var e=n.children();if(a===e.length)return!1;var i=a>e.length;if(a=e.length,i)return!1;for(var r=0;r<e.length;++r){var o=e[r];t(o)}return!1};n.each(function(e,t){xe(t).on("DOMSubtreeModified",i)}),xe("#the-list > tr > td.name span.inline").css("display","none")}),i("nav-menus")&&wp.hooks.addAction("qtranx.load","qtranx/pages/nav-menus",function(){var e=function(e){R("edit-menu-item-title",e),R("edit-menu-item-attr-title",e),R("[edit-menu-item-description",e),z("menu-item-title",e),G("link-to-original","A",e)},t=function(t){for(var n,a=/id="menu-item-(\d+)"/gi;n=a.exec(t);){var i="menu-item-"+n[1],r=document.getElementById(i);r&&e(r)}};if(wpNavMenu){var n=wpNavMenu.addMenuItemToBottom;"function"==typeof n&&(wpNavMenu.addMenuItemToBottom=function(e,a){n(e,a),t(e)}),"function"==typeof wp_addMenuItemToTop&&(wpNavMenu.addMenuItemToTop=function(e){wp_addMenuItemToTop(e),t(e)})}var a=function(e){wpNavMenu&&("function"==typeof wpNavMenu.refreshKeyboardAccessibility&&wpNavMenu.refreshKeyboardAccessibility(),"function"==typeof wpNavMenu.refreshAdvancedAccessibility&&wpNavMenu.refreshAdvancedAccessibility())};a(),wp.hooks.addAction("qtranx.languageSwitch","qtranx/pages/nav-menus",a)}),i("post")&&wp.hooks.addAction("qtranx.load","qtranx/pages/post",function(){var e,t,n,a,i,r,o,s=function(e,t){switch(qTranslateConfig.url_mode){case qe.QTX_URL_QUERY:e.search?e.search+="&lang="+t:e.search="?lang="+t;break;case qe.QTX_URL_PATH:var n=qTranslateConfig.home_url_path,a=e.pathname;"/"!==a[0]&&(a="/"+a);var i=a.indexOf(n);i>=0&&(e.pathname=qTranslateConfig.homeinfo_path+t+a.substring(i+n.length-1));break;case qe.QTX_URL_DOMAIN:e.host=t+"."+e.host;break;case qe.QTX_URL_DOMAINS:e.host=qTranslateConfig.domains[t]}},l=function(l){if(!e){var d=document.getElementById("view-post-btn");if(!d||!d.children.length)return;if("A"!==(e=d.children[0]).tagName)return;t=e.href,n=domCreateElement("a",{}),t.search(/\?/)}n.href=t,s(n,l),e.href=n.href;var c=document.getElementById("preview-action");if(c&&c.children.length&&(c.children[0].href=n.href),qTranslateConfig.url_mode!==qe.QTX_URL_QUERY){if(!a){var g=document.getElementById("sample-permalink");g&&g.offsetHeight>0&&g.childNodes.length&&(a=g.childNodes[0],i=a.nodeValue)}a&&(n.href=i,s(n,l),a.nodeValue=n.href)}else o||(be("#sample-permalink").append('<span id="sample-permalink-lang-query"></span>'),o=be("#sample-permalink-lang-query")),o&&o.text((t.search(/\?/)<0?"/?lang=":"&lang=")+l);r||(r=document.getElementById("wp-admin-bar-view")),r&&r.children.length&&(r.children[0].href=e.href)},d=be("#title"),c=be("#title-prompt-text");function g(e){for(var t={},n=("?"===e[0]?e.substr(1):e).split("&"),a=0;a<n.length;a++){var i=n[a].split("=");t[decodeURIComponent(i[0])]=decodeURIComponent(i[1]||"")}return t}for(var u in J(),l(C()),wp.hooks.addAction("qtranx.languageSwitch","qtranx/pages/post",function(e){l(e),c&&d&&(d.val()?c.addClass("screen-reader-text"):c.removeClass("screen-reader-text"))}),q())be("#wp-admin-bar-"+u+" a").on("click",function(e){e.preventDefault();var t=g(window.location.search),n=be(this).attr("rel");t.lang=n,window.location=window.location.origin+window.location.pathname+"?"+be.param(t)})}),i("widgets")&&wp.hooks.addAction("qtranx.load","qtranx/pages/widgets",function(){if(window.wpWidgets){jQuery(document).on("tinymce-editor-init",function(e,t){var n=_e(t.settings.selector).parents(".widget"),a=n.find(".widget-id").val(),i="widget-"+a+"-title";n.find(".text-widget-fields input[id$='_title']").each(function(e,t){T(t,i)}),Z(t,"widget-"+a+"-text")});var e=function(e,t){if("text"===t.find(".id_base").val()){var n=t.find(".widget-id").val(),a=t.find(".text-widget-fields input[id$='_title']");t.find(".widget-content input[id^='widget-text-'][id$='-title']").each(function(e,t){F(t),T(a[0],t.id)});var i=t.find(".text-widget-fields textarea[id$='_text']"),r=window.tinyMCE.get(i[0].id);t.find(".widget-content textarea[id^='widget-text-'][id$='-text']").each(function(e,n){if(F(n),r){Z(r,n.id);var a=t.find(".sync-input.text");i.val(a.val()+"*")}}),n in wp.textWidgets.widgetControls&&wp.textWidgets.widgetControls[n].updateFields()}else t.find(".widget-content input[id^='widget-'][id$='-title']").each(function(e,t){F(t)});wpWidgets.appendTitle(t)};_e(document).on("widget-added",function(t,n){e(0,n),me()}),_e(document).on("widget-updated",e),wp.hooks.addAction("qtranx.languageSwitch","qtranx/pages/widgets",function(){_e("#widgets-right .widget").each(function(){wpWidgets.appendTitle(this)})})}}),window.qTranslateConfig.qtx=n,qTranslateConfig.js.get_qtx=function(){return wp.deprecated("qTranslateConfig.js.get_qtx",{since:"3.16.0",version:"4.0.0",plugin:"qTranslate-XT",alternative:"qTranx.hooks",hint:"See release notes to use new API."}),qTranx.hooks},qTranx=t})();