(()=>{"use strict";var n=jQuery,a="qtranslate-xt-admin-section",t=function(t){if(!t)return!1;var r=n('.nav-tab-wrapper a[href="'+t+'"]');if(!r.length)return!1;r.parent().children().removeClass("nav-tab-active"),r.addClass("nav-tab-active");var e=n("#qtranxs-configuration-form"),o=t.replace("#","#tab-"),i=n(".tabs-content");i.children().addClass("hidden"),i.find("div"+o).removeClass("hidden");var s=e.attr("action").replace(/(#.*|$)/,t);e.attr("action",s);try{sessionStorage.setItem(a,t)}catch(n){console.log('Failed to store "'+a+'" with sessionStorage',n)}return!0},r=function(n){var r=window.location.hash;if(!t(r)){var e=sessionStorage.getItem(a);t(e)||t(n)}},e=function(a){var t=n("#preview_flag");t.css("display","inline"),t.attr("src",t.attr("data-flag-path")+a)},o=function(n){var a=JSON.stringify(n,function(n,a){return Array.isArray(a)?a.join(", "):a},2),t=a.substring(a.indexOf("\n")+1);return t.substring(0,t.lastIndexOf("\n")).replace(/^[ ]{2}(.*)$/gm,"$1")};n(function(){n(window).on("hashchange",function(){r()}),r("#general");var a=n("#language_flag");a.on("change",function(){e(this.value)}),e(a.val()),n("#qtranxs_debug_query").on("click",function(){for(var a=document.cookie.split(";"),t=3==="a~b".split(/(~)/).length,r={cookies:[],navigator:navigator.userAgent,"Javascript built-in RegExp: @@split":t?"supported":"not supported!"},e=0;e<a.length;e++){var i=a[e].trim();0===i.indexOf("qtrans")&&r.cookies.push(i)}t||n("#qtranxs_debug_info_browser").css("color","red"),n("#qtranxs_debug_info_browser").val(o(r)),n("#qtranxs_debug_info_versions").val("..."),n("#qtranxs_debug_info_configuration").val("..."),n("#qtranxs_debug_info_url_info").val("..."),n("#qtranxs_debug_info").show(),n.ajax({url:ajaxurl,dataType:"json",data:{action:"admin_debug_info",filter_default:n("#qtranxs_debug_filter_default").is(":checked")?1:0},success:function(a){console.log("debug-info",a),n("#qtranxs_debug_info_versions").val(o(a.versions)),n("#qtranxs_debug_info_configuration").val(o(a.configuration)),n("#qtranxs_debug_info_url_info").val(o(a.url_info))},error:function(a){console.error("debug-info",a),n("#qtranxs_debug_info_versions").val("An error occurred: status="+a.status+" ("+a.statusText+")")}})}),n(".qtranxs_double_check").on("click",function(){var a=n(n(this).attr("data-double-check"));a.prop("disabled",!n(this).prop("checked")),a.prop("checked",!1)})})})();