!function(c){c(document).on("qtxLoadAdmin:aqpb-post",function(e,r){var s;c.fn.wp_editor&&(r.get_ml||(r.get_ml=function(e,t){var n,i,a=e.contentField.value.trim(),l=mlSplitRaw(a);if(!l||1<l.length){var d=mlParseTokens(l);for(o in e.fields)e.fields[o].value=d[o];return a}switch(t=t||(e.sepfield?e.sepfield.value:"{")){case"[":n="[:",i="]";break;case"<":n="\x3c!--:",i="--\x3e";break;case"{":default:n="{:",i="}"}var o=e.lang;e.fields[o].value=a;var r="";for(o in e.fields)r+=n+o+i,r+=e.fields[o].value;return r&&(r+=n+i),r}),r.addTinyMceHook||(r.addTinyMceHook=function(e){var t;window.tinyMCE&&tinyMCE.editors[e.contentField.id]&&(t=e.contentField.id,t=tinyMCE.editors[t],e.mce=t,c(t.getContainer()).addClass("qtranxs-translatable"))}),s=c.fn.wp_editor,c.fn.wp_editor=function(e){var t,n=c(this).attr("id"),i=c(this).closest("div.block-settings.modal"),a=r.hasContentHook(n);if(a&&(d=a.lang,t=a.fields[d].value,a.contentField.value=t),s.call(this,e),a){var l=document.getElementById(n);if(l){for(var d in a.contentField=l,a.fields){var o=a.fields[d];l.parentNode.insertBefore(o,l)}l.parentNode.insertBefore(a.sepfield,l),i.one("hidden.bs.modal",function(){var e=r.get_ml(a);a.contentField.value=e,a.mce=null}),r.addTinyMceHook(a)}}})})}(jQuery);